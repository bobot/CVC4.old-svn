% EXPECT: invalid
% EXIT: 10

WordType : TYPE = BITVECTOR(32);
CharType : TYPE = BITVECTOR(8);
StringType : TYPE = ARRAY WordType OF CharType;

TagType : TYPE = BITVECTOR(2);
LenType : TYPE = BITVECTOR(6);
OffsetType : TYPE = BITVECTOR(14);

DATATYPE 
Dnx = dnx (dnsel : Dn),
Dn = dn0 (cycle : Dn)
   | dn0a( tag: TagType, dn0a_rest: Dn1 )
   | dn0b( sel: Dn2), 
Dn1 = dn1 (cycle1 : Dn1)
    | dn1a( len: LenType, 
            label : StringType,
            dn1a_rest : Dn )
    | dn1b( offset: Dn2 ),
Dn2 = dn2a
END;

x : Dn;

QUERY (dn0a_rest(dn0b(dn2a)) = dn1b(dn2a));
